<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="233px" preserveAspectRatio="none" style="width:1408px;height:233px;" version="1.1" viewBox="0 0 1408 233" width="1408px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qrrtfhesn30l" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster MariaDB--><path d="M22,128 C22,118 94,118 94,118 C94,118 166,118 166,128 L166,211 C166,221 94,221 94,221 C94,221 22,221 22,211 L22,128 " fill="#FFFFFF" filter="url(#f1qrrtfhesn30l)" style="stroke: #000000; stroke-width: 2.0;"/><path d="M22,128 C22,138 94,138 94,138 C94,138 166,138 166,128 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="62.5" y="151.9951">MariaDB</text><!--cluster Postgres--><path d="M1226,34 C1226,24 1311,24 1311,24 C1311,24 1396,24 1396,34 L1396,117 C1396,127 1311,127 1311,127 C1311,127 1226,127 1226,117 L1226,34 " fill="#FFFFFF" filter="url(#f1qrrtfhesn30l)" style="stroke: #000000; stroke-width: 2.0;"/><path d="M1226,34 C1226,44 1311,44 1311,44 C1311,44 1396,44 1396,34 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="1275.5" y="57.9951">Postgres</text><!--entity Source Table--><rect fill="#FEFECE" filter="url(#f1qrrtfhesn30l)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="38.5" y="169"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33.5" y="174"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33.5" y="195.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="48.5" y="191.9951">Source Table</text><!--entity Replication Table--><rect fill="#FEFECE" filter="url(#f1qrrtfhesn30l)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="1242" y="75"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1237" y="80"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1237" y="101.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="1252" y="97.9951">Replication Table</text><!--entity Web page--><rect fill="#FEFECE" filter="url(#f1qrrtfhesn30l)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1266" y="148"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1261" y="153"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1261" y="174.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1276" y="170.9951">Web page</text><!--entity Transformation module--><rect fill="#FEFECE" filter="url(#f1qrrtfhesn30l)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="180" x="634" y="112"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="629" y="117"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="629" y="138.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="644" y="134.9951">Transformation module</text><polygon fill="#FBFB77" filter="url(#f1qrrtfhesn30l)" points="368,96.5,368,121.6328,572,121.6328,572,106.5,562,96.5,368,96.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="368,96.5,368,121.6328,572,121.6328,572,121.421,633.725,122.56,572,113.421,572,106.5,562,96.5,368,96.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="562" x2="562" y1="96.5" y2="106.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="572" x2="562" y1="106.5" y2="106.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="374" y="113.5669">kafka stream transformation</text><!--entity source queue--><ellipse cx="471" cy="187" fill="#FEFECE" filter="url(#f1qrrtfhesn30l)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="422.5" y="216.9951">source queue</text><!--entity Transformation queue--><ellipse cx="962" cy="130" fill="#FEFECE" filter="url(#f1qrrtfhesn30l)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="885.5" y="159.9951">Transformation queue</text><!--link Source Table to source queue--><path d="M149.528,187 C238.134,187 408.362,187 456.83,187 " fill="none" id="Source Table-source queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="461.88,187,452.88,183,456.88,187,452.88,191,461.88,187" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="218.5" y="167.0669">binlog parse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="187" y="182.1997">kafka source connector</text><!--link source queue to Transformation module--><path d="M480.067,185.1681 C504.307,179.6633 578.529,162.8081 638.615,149.163 " fill="none" id="source queue-Transformation module" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="643.648,148.0202,633.9857,146.1124,638.7721,149.1273,635.7571,153.9138,643.648,148.0202" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Transformation module to Transformation queue--><path d="M814.221,130 C864.461,130 922.113,130 947.642,130 " fill="none" id="Transformation module-Transformation queue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="952.866,130,943.866,126,947.866,130,943.866,134,952.866,130" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Transformation queue to Replication Table--><path d="M971.235,129.122 C1006.61,125.35 1147.85,110.29 1236.41,100.847 " fill="none" id="Transformation queue-Replication Table" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1241.64,100.289,1232.2676,97.2627,1236.668,100.8175,1233.1132,105.2179,1241.64,100.289" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="1077" y="98.0669">kafka sink connector</text><!--link Transformation queue to Web page--><path d="M971.119,132.523 C989.545,138.119 1036.03,151.5109 1076,157 C1139.34,165.6999 1213.17,167.1072 1260.7,166.8986 " fill="none" id="Transformation queue-Web page" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1265.78,166.8697,1256.7573,162.9212,1260.7801,166.8983,1256.803,170.9211,1265.78,166.8697" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1089.5" y="137.0669">kafka consumer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="1116" y="152.1997">socket.io</text><!--
@startuml
left to right direction
database "MariaDB" {
  [Source Table]
}
database "Postgres" {
  [Replication Table]
}
[Web page]
[Transformation module]
note left of [Transformation module] : kafka stream transformation
() "source queue"
() "Transformation queue"

[Source Table] - -> [source queue] : binlog parse \n kafka source connector
[source queue] - -> [Transformation module]
[Transformation module] - -> [Transformation queue]
[Transformation queue] - -> [Replication Table] : kafka sink connector
[Transformation queue] - -> [Web page] : kafka consumer \n socket.io

@enduml

PlantUML version 1.2017.15(Tue Jul 04 01:45:34 JST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Linux
OS Version: 3.10.0-514.10.2.el7.x86_64
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>